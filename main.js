(()=>{"use strict";var e={887:(e,t,n)=>{n.r(t)},919:(e,t,n)=>{n.r(t)},37:(e,t,n)=>{n.r(t)},561:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminCategories=void 0;const i=n(759),r=n(178),s=n(628),o=n(586);class d extends r.BaseComponent{constructor(){super(void 0,"section",["categories","categories__infinite-container"]),this.render=()=>{this.renderCategories(),this.addFormContainer=new r.BaseComponent(this.element,"div",["card-container","card_admin"]),this.renderAddCategoriesCard(this.addFormContainer.element)},this.renderCategories=()=>a(this,void 0,void 0,(function*(){s.appState.categories.forEach((e=>{this.element.innerHTML+=`<div class="card-container card_admin"\n        data-category="${e.name}" data-id="${e._id}">\n        ${this.renderCategoryCard(e)}\n        </div>`}))})),this.renderCategoryCard=e=>{const t=s.appState.words.filter((t=>t.categoryID===e._id));return`\n  <a class="closebtn deleteCategory">×</a>\n  <p class="card__description">${e.name}</p>\n  <p class="card__description">Кол-во слов: ${t?t.length:0}</p>\n  <div>\n    <a\n      type="button"\n      class="btn btn-danger openUpdateForm"\n      data-id="${e._id}"\n       data-name="${e.name}"\n      >Update</a\n    >\n    <a\n      href="#/admin/category=${e.name}/words"\n      class="btn btn-success addWord"\n      data-id="${e._id}"\n\n      >Add word</a\n    >\n  </div>    `},this.renderAddCategoriesCard=e=>{e.innerHTML='\n    <p class="card__description">Add new Category</p>\n    <div id="openCreateForm" class="add"></div>\n    '},this.renderForm=(e,t,n="",a="")=>{e.innerHTML=`\n      <div class="form-group">\n      <label for="newCategoryName" class="form-label mt-4">Category Name</label>\n      <input type="text" class="form-control" id="input${t}Name"\n       placeholder="Enter name" value="${a}">\n      </div>\n      <div>\n        <button id="close${t}Form" type="button" class="btn btn-danger">Cancel</button>\n        <button id="${t}CategoryBtn" datatype="submit" class=" oryBtn btn btn-success"\n        data-id="${n}">${t}</button>\n      </div>`},this.listen=()=>{this.element.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){var t,n,a,r;const d=e.target;if(d.classList.contains("deleteCategory")){const e=null===(t=d.parentElement)||void 0===t?void 0:t.dataset.id;yield i.deleteCategory(e),s.appState.categories=yield i.getCategories(),this.clear(),this.render()}if("openCreateForm"===d.id&&this.renderForm(d.parentElement,"Create"),"CreateCategoryBtn"===d.id){const e=o.$("#inputCreateName").value;yield i.createCategory(e),s.appState.categories=yield i.getCategories(),this.clear(),this.render()}if("closeCreateForm"===d.id){const e=null===(n=d.parentElement)||void 0===n?void 0:n.parentElement;this.renderAddCategoriesCard(e)}if(d.classList.contains("openUpdateForm")){const e=d.dataset.id,t=d.dataset.name,n=null===(a=d.parentElement)||void 0===a?void 0:a.parentElement;this.renderForm(n,"Update",e,t)}if("closeUpdateForm"===d.id){const e=null===(r=d.parentElement)||void 0===r?void 0:r.parentElement,t=e.dataset.id,n=e.dataset.category;e.innerHTML=this.renderCategoryCard({_id:t,name:n})}if("UpdateCategoryBtn"===d.id){const e=d.dataset.id,t=o.$("#inputUpdateName").value;yield i.updateCategory(e,t),s.appState.categories=yield i.getCategories(),this.clear(),this.render()}d.classList.contains("addWord")&&(s.appState.currentCategoryID=d.dataset.id)})))),this.element.addEventListener("scroll",(()=>{this.element.scrollTop+this.element.clientHeight>=this.element.scrollHeight&&this.render()}))},this.render()}}t.AdminCategories=d},921:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminWords=void 0;const i=n(759),r=n(178),s=n(628),o=n(586);class d extends r.BaseComponent{constructor(e){super(void 0,"section",["categories","categories__infinite-container"]),this.words=[],this.listen=()=>{this.element.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){var t,n;const a=e.target,r=a.dataset.id;if(a.classList.contains("btnChangeWord")){const e=a.parentElement;this.renderFormUpdateWord(e,r)}if("openCreateForm"===a.id&&this.renderFormCreateWord(a.parentElement),"closeCreateForm"===a.id){const e=null===(t=a.parentElement)||void 0===t?void 0:t.parentElement;this.renderAddWordCard(e)}if(a.classList.contains("btnCancelUpdate")){const e=null===(n=a.parentElement)||void 0===n?void 0:n.parentElement,t=o.getWord(r);e.innerHTML=this.renderWordCard(t)}if(a.classList.contains("btnDeleteWord")&&(yield i.deleteWord(r),s.appState.words=yield i.getWords(),this.clear(),this.render()),"btnPlay"===a.id){const e=o.$(`#audioInput[data-id="${a.dataset.id}"]`).files[0],t=new FileReader;t.onload=e=>{var t;o.playAudio(null===(t=e.target)||void 0===t?void 0:t.result)},t.readAsDataURL(e)}"btnPlayDB"===a.id&&o.playAudio(a.dataset.audio)})))),this.element.addEventListener("submit",(e=>a(this,void 0,void 0,(function*(){e.preventDefault();const t=e.target,n=new FormData(t);if("formCreateWord"===t.id&&(yield i.createWord(n)),t.classList.contains("formUpdateWord")){const e=t.dataset.id;yield i.updateWord(n,e)}s.appState.words=yield i.getWords(),this.clear(),this.render()})))),this.element.addEventListener("change",(e=>{const t=e.target;"audioInput"===t.id&&o.$(`.btn__play[data-id="${t.dataset.id}"]`).classList.remove("hidden")})),this.element.addEventListener("scroll",(()=>{this.element.scrollTop+this.element.clientHeight>=this.element.scrollHeight&&this.render()}))},this.render=()=>{this.renderWords(),this.addFormContainer=new r.BaseComponent(this.element,"div",["card-container","card_admin","card_word"]),this.renderAddWordCard(this.addFormContainer.element)},this.renderWords=()=>{this.words=s.appState.words.filter((e=>e.categoryID===this.categoryID)),this.words.forEach((e=>{this.element.innerHTML+=`<div class="card-container card_admin card_word">\n      ${this.renderWordCard(e)}\n      </div>`}))},this.renderWordCard=e=>`<a class="closebtn btnDeleteWord" data-id="${e._id}">×</a>\n    <p class="card__description">Word: ${e.word}</p>\n    <p class="card__description">Translation: ${e.translation}</p>\n    <p class="card__description">\n      Sound\n      <svg  class="svg-play" id="btnPlayDB" data-audio="${e.audioSRC}" xmlns="http://www.w3.org/2000/svg"\n       width="20" height="20" fill="currentColor" class="bi bi-play-circle" viewBox="0 0 16 16">\n        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n        <path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0\n         1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"/>\n      </svg>\n    </p>\n    <div class="img form__img" style="background-image: url(${e.imageSRC})"></div>\n    <button\n      type="button"\n      class="btn btn-outline-success btnChangeWord"\n      data-id="${e._id}"\n    >\n      Change\n    </button>`,this.renderFormUpdateWord=(e,t)=>{const n=o.getWord(t);e.innerHTML=` <form class="form formUpdateWord" action method="put" data-id="${n._id}">\n      <input\n        name="categoryID"\n        type="hidden"\n        value="${n.categoryID}"\n        readonly\n      />\n      <div class="form__row">\n        <label class="form__label">Word:</label>\n        <input\n        name="word"\n          class="form-control form-control-sm"\n          type="text"\n          placeholder="Word"\n          id="wordInput"\n          value="${n.word}"\n        />\n      </div>\n      <div class="form__row">\n        <label class="form__label">Translation:</label>\n        <input\n          name="translation"\n          class="form-control form-control-sm"\n          type="text"\n          placeholder="Translation"\n          id="translationInput"\n          value="${n.translation}"\n        />\n      </div>\n      <div class="form__row">\n        <label class="form__label">Sound:</label>\n        <button\n          id="btnPlay"\n          data-id="${n._id}"\n          type="button"\n          class="btn btn__play btn-outline-success hidden"\n          data-audio="${n.audioSRC}"\n        >\n          <svg\n            xmlns="http://www.w3.org/2000/svg"\n            width="16"\n            height="16"\n            fill="currentColor"\n            class="bi bi-play-circle"\n            viewBox="0 0 16 16"\n          >\n            <path\n              d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"\n            ></path>\n            <path\n              d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1\n               6 10.5v-5a.5.5 0 0 1 .271-.445z"\n            ></path>\n          </svg>\n          Play\n        </button>\n        <label class="btn btn_colored btn-load" for="btnInput">\n          Change\n          <input\n          name="audio"\n            class="btn-load--input"\n            type="file"\n            id="audioInput"\n            accept="audio/*, .mp3"\n            data-id="${n._id}"\n          />\n        </label>\n      </div>\n      <div class="form__row">\n        <label class="form__label">Image:</label>\n        <label class="btn btn_colored btn-load" for="btnInput">\n          Change\n          <input\n            name="img"\n            class="btn-load--input"\n            type="file"\n            accept="image/*"\n            id="imageInput"\n          />\n        </label>\n      </div>\n      <div>\n        <a\n          class="btn btn-outline-danger btnCancelUpdate"\n          data-id="${n._id}"\n          >Cancel</a\n        >\n        <button type="submit" class="btn btn-outline-success">Submit</button>\n      </div>\n    </form>`},this.renderAddWordCard=e=>{e.innerHTML='\n    <p class="card__description">Add new Word</p>\n    <div id="openCreateForm" class="add"></div>\n    '},this.renderFormCreateWord=e=>{e.innerHTML=`\n    <form id="formCreateWord" class="form" action="" method="post">\n      <input\n        name="categoryID"\n        type="hidden"\n        value="${this.categoryID}"\n        readonly\n      />\n      <div class="form__row">\n        <label class="form__label">Word:</label>\n        <input\n          name="word"\n          class="form-control form-control-sm"\n          type="text"\n          placeholder="Word"\n          id="wordInput"\n          required\n        />\n      </div>\n      <div class="form__row">\n        <label class="form__label">Translation:</label>\n        <input\n          name="translation"\n          class="form-control form-control-sm"\n          type="text"\n          placeholder="Translation"\n          id="translationInput"\n          required\n        />\n      </div>\n      <div class="form__row">\n        <label class="form__label">Image:</label>\n        <label class="btn btn_colored btn-load" for="btnInput">\n          Select\n          <input\n            name="img"\n            class="btn-load--input"\n            type="file"\n            accept="image/*"\n            id="imageInput"\n\n          />\n        </label>\n      </div>\n      <div class="form__row">\n        <label class="form__label">Audio:</label>\n        <div\n          id="btnPlay"\n          class="btn btn-outline-success btn__play hidden"\n          data-id="12345"\n        >\n          Play\n        </div>\n        <label class="btn btn_colored btn-load" for="btnInput">\n          Select\n          <input\n            name="audio"\n            class="btn-load--input"\n            type="file"\n            accept="audio/*"\n            id="audioInput"\n            data-id="12345"\n            required\n          />\n        </label>\n      </div>\n      <div>\n      <button id="closeCreateForm" type="button" class="btn btn-danger">Cancel</button>\n      <button type="submit" class="btn btn-outline-success">Submit</button></div>\n    </form>`},this.categoryID=e,this.render()}}t.AdminWords=d},77:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const a=n(199),i=n(178),r=n(628),s=n(713),o=n(471),d=n(914),l=n(725),c=n(561),h=n(921),p=n(586);t.App=class{constructor(){this.configRoutes=()=>{this.router.add("/words",(()=>{this.clearMain();const e=new h.AdminWords(r.appState.currentCategoryID);this.main.element.appendChild(e.element),e.listen()})),this.router.add("category",(()=>{this.game.resetGame(),this.clearMain();const e=r.appState.words.filter((e=>e.categoryID===r.appState.currentCategoryID));this.renderWordCards(e)})),this.router.add("train",(()=>{this.game.resetGame(),this.clearMain(),this.header.toggleActiveLink("#/train")})),this.router.add("admin/categories",(()=>{if(!p.isAdmin())return;this.game.resetGame(),this.clearMain(),this.header.toggleActiveLink("#/admin/categories");const e=new c.AdminCategories;this.main.element.appendChild(e.element),e.listen()})),this.router.add("",(()=>{this.game.resetGame(),this.clearMain(),this.header.toggleActiveLink("#"),this.main.element.appendChild(this.categories.element)}))},this.renderWordCards=e=>{e.forEach((e=>{const t=new o.WordCard(e);t.render(),t.listen()})),r.appState.isGameMode&&new i.BaseComponent(this.main.element,"button",["btn","game__start-btn","btn_colored"],"Start Game").element.addEventListener("click",(()=>{this.game.newGame(e)}))},this.clearMain=()=>{this.main.element.innerHTML=""},this.header=new a.Header,this.main=new i.BaseComponent(document.body,"main",["main"]),this.router=new s.Router,this.header.listen(this.router),this.categories=new l.Categories,this.game=new d.Game(this.router)}}},725:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Categories=void 0;const a=n(178),i=n(628),r=n(408);class s extends a.BaseComponent{constructor(){super(void 0,"section",["categories"]),this.cards=[],this.renderCategories=()=>{i.appState.categories.forEach((e=>{const t=i.appState.words.filter((t=>t.categoryID===e._id));this.cards.push(new r.CategoryCard(this,e,t))}))},this.listen=()=>{this.element.addEventListener("click",(e=>{const t=e.target;i.appState.currentCategoryID=t.dataset.id}))},this.renderCategories(),this.listen()}}t.Categories=s},408:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryCard=void 0;const a=n(178);class i extends a.BaseComponent{constructor(e,t,n){super(e.element,"a",["card-container"]),this.element.setAttribute("href",`/#/category/${t.name}`),this.element.dataset.category=t.name,this.element.dataset.id=t._id;const a=n[0]?n[0].imageSRC:"";this.element.innerHTML=`\n      <div class="card">\n        <div class='img' style="background-image: url('${a}')" data-id="${t._id}"></div>\n        <p class="card__description" data-id="${t._id}">${t.name} </p>\n      </div>\n    `}}t.CategoryCard=i},914:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const a=n(178),i=n(628),r=n(586);t.Game=class{constructor(e){this.currentWord="",this.errorsCounter=0,this.newGame=e=>{i.appState.isGame||(i.appState.gameWords=[...e.sort((()=>Math.random()-.5))],this.rating=new a.BaseComponent(r.$(".main"),"div",["rating__container"]),i.appState.currentGameWord=i.appState.gameWords.shift(),i.appState.isGame=!0,r.$(".game__start-btn").innerText="repeat",r.$(".game__start-btn").classList.add("game__repeat-btn")),r.playAudio(i.appState.currentGameWord.audioSRC)},this.resetGame=()=>{i.appState.isGame=!1,i.appState.currentGameWord=void 0,i.appState.gameWords=[],this.errorsCounter=0},this.listen=()=>{r.$(".main").addEventListener("click",(e=>{var t;const n=e.target;!n.classList.contains("correct")&&n.classList.contains("card_game")&&i.appState.isGame&&(n.dataset.word===(null===(t=i.appState.currentGameWord)||void 0===t?void 0:t.word)?this.handleCorrect(n):this.handleError())}))},this.handleCorrect=e=>{r.playAudio("./audio/correct.mp3"),e.classList.add("correct"),0!==i.appState.gameWords.length?(this.rating.element.innerHTML+='<div class="rating__success rating"></div>',i.appState.currentGameWord=i.appState.gameWords.shift(),r.playAudio(i.appState.currentGameWord.audioSRC)):this.showResult()},this.handleError=()=>{r.playAudio("./audio/error.mp3"),this.errorsCounter++,this.rating.element.innerHTML+='<div class="rating__error rating"></div>'},this.showResult=()=>{i.appState.isGame=!1,this.errorsCounter?this.renderResult("failure",`${this.errorsCounter} mistakes`):this.renderResult("success")},this.renderResult=(e,t="")=>{r.$("main").innerHTML=`\n    <section class="congratulation">\n      <div class="congratulation__img ${e}"></div>\n      <h2 class="congratulation__text">${t}</h2>\n    </section>\n    `,r.playAudio(`./audio/${e}.mp3`),setTimeout((()=>{window.location.hash=""}),5e3)},this.router=e,this.rating=new a.BaseComponent(r.$(".main"),"div",["rating__container"]),this.listen()}}},199:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const a=n(178),i=n(628),r=n(586);class s extends a.BaseComponent{constructor(){super(document.body,"header",["header"]),this.renderAdminLinks=()=>r.isAdmin()?'\n    <a href="#/admin/categories" class="close">Admin panel</a>\n    <a id="btnLogout" href="#" class="close">Logout</a>':'<a id="openLoginForm" class="close" >Login</a>',this.renderLoginForm=()=>{r.$("body").classList.add("notScrollable"),r.$(".pop-up__container").innerHTML='\n      <div class="pop-up pop-up__close"></div>\n        <div class="modal-content pop-up__content">\n          <div class="modal-header">\n            <h5 class="modal-title">Autorization</h5>\n            <button type="button" class="btn-close pop-up__close"  aria-label="Close">\n              <span aria-hidden="true"></span>\n            </button>\n          </div>\n          <div class="modal-body">\n             <div class="form-group">\n          <label for="InputLogin" class="form-label mt-4">Email address</label>\n          <input type="text" class="form-control" id="inputLogin"  placeholder="Enter login">\n        </div>\n        <div class="form-group">\n          <label for="InputPassword" class="form-label mt-4">Password</label>\n          <input type="password" class="form-control" id="inputPassword" placeholder="Password">\n        </div>\n          </div>\n          <div class="modal-footer">\n            <a  id="btnLogin"  class="btn btn-primary">Login</a>\n            <button type="button" class="btn btn-secondary pop-up__close">Cancel</button>\n          </div>\n      </div>\n      </div>\n      '},this.toggleActiveLink=e=>{document.querySelectorAll(".sidenav a").forEach((t=>{t.classList.contains("active-link")&&t.classList.remove("active-link"),t.getAttribute("href")===e&&t.classList.add("active-link")}))},this.element.innerHTML+=this.renderSideNav()}listen(e){this.element.addEventListener("click",(e=>{const t=e.target;t.classList.contains("openBtn")&&(this.renderLinks(),r.$(".sidenav").classList.add("open"),r.$(".sidenav__overlay").classList.add("open")),t.classList.contains("close")&&(r.$(".sidenav").classList.remove("open"),r.$(".sidenav__overlay").classList.remove("open")),t.classList.contains("category-link")&&(i.appState.currentCategoryID=t.dataset.id),"openLoginForm"===t.id&&this.renderLoginForm(),"btnLogin"===t.id&&(r.checkLoginData()?(r.$(".pop-up__container").innerHTML="",window.location.hash="admin/categories"):window.location.hash="",r.$("body").classList.remove("notScrollable"),this.element.innerHTML=this.renderSideNav()),"btnLogout"===t.id&&(window.sessionStorage.setItem("IsAdmin","false"),this.element.innerHTML=this.renderSideNav()),t.classList.contains("pop-up__close")&&(r.$(".pop-up__container").innerHTML="")})),r.$("#gameCheck").addEventListener("input",(t=>{const n=t.target;n.toggleAttribute("checked"),i.appState.isGameMode=n.checked,document.body.classList.toggle("game__mode"),e.navigate(document.location.hash)}))}renderLinks(){let e="";i.appState.categories.forEach((t=>{e+=`<a href="/#/category/${t.name}" data-id="${t._id}"\n       class="close category-link">${t.name}</a>`})),e+='<a href="/#/statistic" class="close category-link">Statistic</a></a>',r.$(".link-container").innerHTML=e}renderSideNav(){return`\n    <span class="openBtn">&#9776</span>\n    <aside id="mySidenav" class="sidenav">\n      <ul class="sidenav__links">\n      <a  class="closebtn close">&times;</a>\n       ${this.renderAdminLinks()}\n      <a href="#" class="close">Main page</a>\n      <div class="link-container"></div>\n       </ul>\n      <footer class="footer">\n        <a class="footer__github" href="https://github.com/AKZhuk"\n        target="_blank" rel="noopener noreferrer">github/AKZhuk</a>\n        <a href="https://rs.school/js/" class="footer__logo"></a>\n      </footer>\n    </aside>\n    <div id="overlay" class="sidenav__overlay close"></div>\n    <div id="gameCheck" class="form-check form-switch">\n      <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" >\n    </div>\n    <div class="pop-up__container"></div>`}}t.Header=s},471:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WordCard=void 0;const i=n(178),r=n(628),s=n(586);class o extends i.BaseComponent{constructor(e){super(s.$(".main"),"div",["card-container"]),this.render=()=>r.appState.isGameMode?this.renderGameCard():this.renderTrainCard(),this.renderGameCard=()=>`\n    <div class="card__bg">\n      <div class="card card_game" data-word="${this.word}" style="background-image: url(${this.imageSRC})" >\n      </div>\n    </div>`,this.renderTrainCard=()=>`\n    <div class="card">\n      <div class="card__front " >\n        <div class=" img" style="background-image: url(${this.imageSRC})"></div>\n        <div class="card__description">\n          <h5 class="description__title">${this.word}</h5>\n          <div  onclick="" class="card__rotate"></div>\n        </div>\n      </div>\n      <div class="card__back">\n        <div class="img" style="background-image: url(${this.imageSRC})"></div>\n        <div class="card__description">\n        <h5>${this.translation}</h5>\n        </div>\n      </div>\n    </div>`,this.listen=()=>{r.appState.isGameMode||(this.element.addEventListener("click",(()=>{s.playAudio(this.audioSRC)})),this.element.querySelector(".card__rotate").addEventListener("click",(()=>a(this,void 0,void 0,(function*(){return this.flipToBack()})))),this.element.addEventListener("mouseleave",(()=>a(this,void 0,void 0,(function*(){this.isFlip&&this.flipToFront()})))))},this.flipToBack=()=>(this.isFlip=!0,this.flip(!0)),this.flipToFront=()=>this.flip(),this.flip=(e=!1)=>new Promise((t=>{this.element.classList.toggle("flip",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})})),this.isFlip=!1,this.word=e.word,this.translation=e.translation,this.imageSRC=e.imageSRC,this.audioSRC=e.audioSRC,this.element.innerHTML=this.render()}}t.WordCard=o},607:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(77);n(37),n(919),n(887);const r=n(759),s=n(628);a(void 0,void 0,void 0,(function*(){s.appState.categories=yield r.getCategories(),s.appState.words=yield r.getWords()})).then((()=>{(new i.App).configRoutes()}))},759:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCategory=t.updateCategory=t.createCategory=t.getCategories=t.deleteWord=t.updateWord=t.createWord=t.getWords=t.baseUrl=void 0,t.baseUrl="https://akzhuk-english-for-kids.herokuapp.com",t.getWords=()=>n(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${t.baseUrl}/words/getall`);return yield e.json()}catch(e){return[]}})),t.createWord=e=>n(void 0,void 0,void 0,(function*(){try{(yield fetch(`${t.baseUrl}/words/create`,{method:"POST",body:e})).json()}catch(e){throw new Error(`something went wrong(( Error: ${e}`)}})),t.updateWord=(e,a)=>n(void 0,void 0,void 0,(function*(){try{(yield fetch(`${t.baseUrl}/words/update/?${new URLSearchParams({id:a})}`,{method:"PUT",body:e})).json()}catch(e){throw new Error(`something went wrong(( Error: ${e}`)}})),t.deleteWord=e=>n(void 0,void 0,void 0,(function*(){try{(yield fetch(`${t.baseUrl}/words/delete`,{method:"DELETE",body:JSON.stringify({id:e}),headers:{"Content-Type":"application/JSON"}})).json()}catch(e){throw new Error(`something went wrong(( Error: ${e}`)}})),t.getCategories=()=>n(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${t.baseUrl}/categories/getall`);return yield e.json()}catch(e){return[]}})),t.createCategory=e=>n(void 0,void 0,void 0,(function*(){try{(yield fetch(`${t.baseUrl}/categories/add`,{method:"POST",body:JSON.stringify({name:e}),headers:{"Content-Type":"application/JSON"}})).json()}catch(e){throw new Error(`something went wrong(( Error: ${e}`)}})),t.updateCategory=(e,a)=>n(void 0,void 0,void 0,(function*(){try{(yield fetch(`${t.baseUrl}/categories/update`,{method:"PUT",body:JSON.stringify({_id:e,name:a}),headers:{"Content-Type":"application/JSON"}})).json()}catch(e){throw new Error(`something went wrong(( Error: ${e}`)}})),t.deleteCategory=e=>n(void 0,void 0,void 0,(function*(){try{(yield fetch(`${t.baseUrl}/categories/delete`,{method:"DELETE",body:JSON.stringify({_id:e}),headers:{"Content-Type":"application/JSON"}})).json()}catch(e){throw new Error(`something went wrong(( Error: ${e}`)}}))},178:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e,t="div",n=[],a=""){this.clear=()=>{this.element.innerHTML=""},this.element=document.createElement(t),this.element.classList.add(...n),this.element.innerText=a,e&&e.appendChild(this.element)}}},628:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.appState=void 0,t.appState={isGameMode:!1,isGame:!1,gameWords:[],currentGameWord:void 0,trainWords:[],sortBy:"result",orderBy:"desc",categories:[],words:[],currentCategoryID:""}},713:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0,t.Router=class{constructor(){this.routes=[],this.root="/english-for-kids/dist/",this.current=this.root,this.add=(e,t)=>(this.routes.push({path:e,cb:t}),this),this.clearSlashes=e=>e.toString().replace(/\/$/,"").replace(/^\//,""),this.getFragment=()=>{let e="";const t=window.location.href.match(/#(.*)$/);return e=t?t[1]:"",this.clearSlashes(e)},this.navigate=(e="")=>(window.location.href=`${window.location.href.replace(/#(.*)$/,"")}#${e}`,this.routes.some((t=>t.path===e&&(t.cb(),!0))),this),this.listen=()=>{clearInterval(this.intervalId),this.intervalId=setInterval(this.interval,50)},this.interval=()=>{this.current!==this.getFragment()&&(this.current=this.getFragment(),this.routes.some((e=>{const t=this.current.match(e.path);return!!t&&(t.shift(),e.cb.apply({},t),t)})))},this.listen(),this.intervalId=setInterval(this.interval,50)}}},586:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getWord=t.isAdmin=t.checkLoginData=t.playAudio=t.$=void 0;const a=n(628);t.$=e=>document.querySelector(e),t.playAudio=e=>{const t=new Audio;t.currentTime=0,t.src=e,t.play()},t.checkLoginData=()=>{const e=t.$("#inputLogin").value,n=t.$("#inputPassword").value;return"admin"===e&&"admin"===n&&(window.sessionStorage.setItem("IsAdmin","true"),!0)},t.isAdmin=()=>"true"===window.sessionStorage.getItem("IsAdmin"),t.getWord=e=>a.appState.words.filter((t=>t._id===e))[0]}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();